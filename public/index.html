<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Yearbook</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="ascii-container">
    <pre class="ascii-art">
        ,-.  
        ,---,                                ,---,                         ,--/ /|  
       /_ ./|                       __  ,-.,---.'|      ,---.     ,---.  ,--. :/ |  
 ,---, |  ' :                     ,' ,'/ /||   | :     '   ,'\   '   ,'\ :  : ' /   
/___/ \.  : |  ,---.     ,--.--.  '  | |' |:   : :    /   /   | /   /   ||  '  /    
 .  \  \ ,' ' /     \   /       \ |  |   ,':     |,-..   ; ,. :.   ; ,. :'  |  :    
  \  ;  `  ,'/    /  | .--.  .-. |'  :  /  |   : '  |'   | |: :'   | |: :|  |   \   
   \  \    '.    ' / |  \__\/: . .|  | '   |   |  / :'   | .; :'   | .; :'  : |. \  
    '  \   |'   ;   /|  ," .--.; |;  : |   '   : |: ||   :    ||   :    ||  | ' \ \ 
     \  ;  ;'   |  / | /  /  ,.  ||  , ;   |   | '/ : \   \  /  \   \  / '  : |--'  
      :  \  \   :    |;  :   .'   \---'    |   :    |  `----'    `----'  ;  |,'     
       \  ' ;\   \  / |  ,     .-./        /    \  /                     '--'       
        `--`  `----'   `--`---'            `-'----'                                 
    </pre>
</div>

<div class="description-box">
    <p>
        Welcome to Yearbook.<br>
        Leave a short message.<br>
        No edits. No deletions.<br>
        Messages are permanent.<br>
        This is your history.
    </p>
</div>

<h2 class="comment-title">your message:</h2>

<form action="/comment" method="POST">
    <input type="text" name="message" maxlength="128" size="64" autocomplete="off" required>
</form>


<!-- (deleted <hr> here) -->

<h3 class="space-title">space:</h3>

<div id="comments-container">
    <!-- Comments will be dynamically loaded here -->
</div>


<script>
    function loadComments() {
        fetch('/comments')
            .then(response => response.json())
            .then(data => {
                const container = document.getElementById('comments-container');
                container.innerHTML = ''; // Clear first
    
                data.forEach(comment => {
                    const splash = document.createElement('div');
                    splash.classList.add('splash-comment');
                    splash.style.top = comment.pos_top + 'px';
                    splash.style.left = comment.pos_left + 'px';
    
                    const star = document.createElement('span');
                    star.classList.add('star-comment', comment.color || 'star-color-white');
                    star.innerHTML = `* (${new Date(comment.created_at).toLocaleString("en-US", { timeZone: "America/New_York" })})<br>${comment.message}`;
    
                    splash.appendChild(star);
                    container.appendChild(splash);
                });
            });
    }
    
    window.addEventListener('load', loadComments);
    </script>
    

</body>
<a href="https://steamcommunity.com/id/languageinstinct/" class="signature-star" target="_blank">*</a>

</html>
